//
// Menu
//

@mixin menu($item: 'li', $submenu: 'ul, .submenu') {
  position: relative;

  // Remove menu on prints
  @media print {
    display: none;
  }

  #{$item} {
    position: relative;

    > {
      // Make anchors as block-level element
      // So paddings will expand the hit-box
      a {
        display: block;
      }

      #{$submenu} {
        z-index: $zindex-menu;
        display: none;
      }
    }

    // Show sub-menu via `:hover`
    &:hover {
      > {
        #{$submenu} {
          display: block;
        }
      }
    }

    // Force it with `.active` class
    &.active {
      > {
        #{$submenu} {
          display: block !important;
        }
      }
    }
  }

  // Breakpoints
  //
  // _Menu_ should work great with _Orientations_
  @at-root {
    @include vertical(&) {
      > {
        #{$item} {
          #{$submenu} {
            @include vertical-sublist();
          }
        }
      }
    }

    @include horizontal(&) {
      > {
        #{$item} {
          #{$submenu} {
            @include horizontal-sublist();

            #{$submenu} {
              @include vertical-sublist();
            }
          }
        }
      }
    }
  }

  // Unbind hover
  //
  // Disable the ':hover'-effect. Use JavaScript instead.
  // Now, this can be set to sublists (in v3, this could only set to the whole menu)
  @at-root {
    .unbind-hover {
      #{$item} {
        &:hover {
          > {
            #{$submenu} {
              display: none;
            }
          }
        }
      }
    }
  }
}

// RTL menu
@mixin menu-rtl($item: 'li', $submenu: 'ul, .submenu') {
  @include menu($item, $submenu);

  @include vertical(&) {
    #{$submenu} {
      @include vertical-sublist-rtl();
    }
  }

  @include horizontal(&) {
    #{$submenu} {
      @include horizontal-sublist-rtl();

      #{$submenu} {
        @include vertical-sublist-rtl();
      }
    }
  }
}
